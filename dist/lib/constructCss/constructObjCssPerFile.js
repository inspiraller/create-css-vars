'use strict';var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{'default':mod};};Object.defineProperty(exports,'__esModule',{value:true});exports.replaceVars=void 0;const getSafeMarkers_1=__importDefault(require('..\\getSafeMarkers'));const clearCssComents_1=__importDefault(require('..\\clearCssComents'));const execReg_1=__importDefault(require('..\\execReg'));const regCss_1=require('..\\regCss');const constructCombinedObjCss_1=__importDefault(require('./constructCombinedObjCss'));const constructAnyObjCss_1=__importDefault(require('./constructAnyObjCss'));const replaceVars=str=>str.replace(/var\((--[^\)]*)\)/g,'${getTheme(\'$1\')}');exports.replaceVars=replaceVars;const iterateConstructObjCss=({objCss:objCssByRef,str,reg,constructCssObj})=>{let objCss=Object.assign({},objCssByRef);execReg_1.default({str,reg,callback:arrM=>{let strCss=arrM[4];const strSelectors=arrM[2];strCss=exports.replaceVars(strCss);objCss=constructCssObj({objCss,strSelectors,strCss});}});return objCss;};const constructObjCssPerFile=(strReadFile,objCssAll)=>{let str=strReadFile;const {objM:{m1}}=getSafeMarkers_1.default(str);str=clearCssComents_1.default(str,m1);objCssAll.combined=iterateConstructObjCss({objCss:objCssAll.combined,str,reg:regCss_1.regCombined,constructCssObj:constructCombinedObjCss_1.default});objCssAll.single=iterateConstructObjCss({objCss:objCssAll.single,str,reg:regCss_1.regSingle,constructCssObj:constructAnyObjCss_1.default});objCssAll.withchild=iterateConstructObjCss({objCss:objCssAll.withchild,str,reg:regCss_1.regWithChild,constructCssObj:constructAnyObjCss_1.default});objCssAll.pseudo=iterateConstructObjCss({objCss:objCssAll.pseudo,str,reg:regCss_1.regPseudoOrAttr,constructCssObj:constructAnyObjCss_1.default});objCssAll.beginNonSingle=iterateConstructObjCss({objCss:objCssAll.beginNonSingle,str,reg:regCss_1.regBeginNonSingle,constructCssObj:constructAnyObjCss_1.default});return objCssAll;};exports.default=constructObjCssPerFile;